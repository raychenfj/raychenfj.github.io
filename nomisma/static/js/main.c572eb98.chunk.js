(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,a){},103:function(e,t,a){},274:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(88),c=a.n(o),s=(a(99),a(7)),i=a(8),l=a(10),u=a(9),m=a(11),d=(a(101),a(103),a(20)),p=a(59),h=a(89),b=a.n(h),f=a(52),E=a.n(f),v=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.columns||[],t=this.props.data||[];return r.a.createElement("table",{className:b.a.table},r.a.createElement("thead",null,r.a.createElement("tr",null,e.map(function(e,t){return r.a.createElement("th",{key:t},e.name)}))),r.a.createElement("tbody",null,t&&t.length?t.map(function(t,a){return r.a.createElement("tr",{key:t.id||a},e.map(function(e,n){return e.prop?r.a.createElement("td",{key:n},e.formatter?e.formatter(E()(t,e.prop)):E()(t,e.prop)):e.render&&"function"===typeof e.render?r.a.createElement("td",{key:n},e.render(t,a)):null}))}):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:e.length},"no data "))))}}]),t}(n.Component),y=a(90),w=a.n(y);function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-mm-dd";return w()(e,t)}var D=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;if(!this.props.show)return null;var t=[{name:"Name",prop:"user.name"},{name:"Surname",prop:"user.surname"},{name:"Amount In Usd",prop:"amountInUsd"},{name:"Currency",prop:"currency"},{name:"Date",prop:"date",formatter:O},{name:"Actions",render:function(t,a){return r.a.createElement(n.Fragment,null,r.a.createElement("button",{onClick:function(){return e.props.onView(t,a)}},"View"),r.a.createElement("button",{onClick:function(){return e.props.onEdit(t,a)}},"Edit"),r.a.createElement("button",{onClick:function(){return e.props.onDelete(t,a)}},"Delete"))}}];return r.a.createElement("div",null,r.a.createElement(v,{columns:t,data:this.props.data}))}}]),t}(n.Component),k=a(5),j=a(3),C=a.n(j),S={CREATE:"create",VIEW:"view",EDIT:"edit"},g={DATA:"data"},N=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;if(!this.props.show)return null;var t=this.props.mode===S.CREATE?{name:"",surname:"",amountInUsd:"",currency:"",date:""}:Object(d.a)({},this.props.data,{name:this.props.data.user.name,surname:this.props.data.user.surname,date:O(this.props.data.date)}),a=this.props.mode===S.VIEW;return r.a.createElement("div",{className:C.a.contractDetail},r.a.createElement(k.d,{initialValues:t,validate:function(e){var t={},a={name:{required:!0},surname:{required:!0},amountInUsd:{required:!0},currency:{required:!0},date:{required:!0}};return Object.keys(a).forEach(function(n){a[n].required&&!e[n]&&(t[n]="".concat(n," is required"))}),t},onSubmit:function(t,a){var n=a.setSubmitting;window.confirm("are you sure to submit ?")&&e.props.onSubmit(t),n(!1)}},function(t){var n=t.isSubmitting;return r.a.createElement(k.c,null,r.a.createElement("div",{className:C.a.formItem},r.a.createElement("label",{className:C.a.label},"name:"),r.a.createElement(k.b,{className:C.a.field,name:"name",placeholder:"please enter your name",readOnly:a}),r.a.createElement(k.a,{className:C.a.error,name:"name",component:"div"})),r.a.createElement("div",{className:C.a.formItem},r.a.createElement("label",{className:C.a.label},"surname:"),r.a.createElement(k.b,{className:C.a.field,name:"surname",placeholder:"please enter your surname",readOnly:a}),r.a.createElement(k.a,{className:C.a.error,name:"surname",component:"div"})),r.a.createElement("div",{className:C.a.formItem},r.a.createElement("label",{className:C.a.label},"amountInUsd:"),r.a.createElement(k.b,{className:C.a.field,name:"amountInUsd",placeholder:"please enter the amount in usd",readOnly:a}),r.a.createElement(k.a,{className:C.a.error,name:"amountInUsd",component:"div"})),r.a.createElement("div",{className:C.a.formItem},r.a.createElement("label",{className:C.a.label},"currency:"),r.a.createElement(k.b,{className:C.a.field,name:"currency",placeholder:"please enter the currency",readOnly:a}),r.a.createElement(k.a,{className:C.a.error,name:"currency",component:"div"})),r.a.createElement("div",{className:C.a.formItem},r.a.createElement("label",{className:C.a.label},"date:"),r.a.createElement(k.b,{className:C.a.field,type:"date",name:"date",placeholder:"please enter the date",readOnly:a}),r.a.createElement(k.a,{className:C.a.error,name:"date",component:"div"})),r.a.createElement("div",{className:C.a.formItem},!a&&r.a.createElement("button",{type:"submit",disabled:n},"Submit"),r.a.createElement("button",{type:"back",onClick:e.props.onBack},"Back")))}))}}]),t}(n.Component),I=a(57),_=a.n(I),T=a(41),A=a.n(T),R=a(58),U=a.n(R),B=a(42),x=a.n(B);function V(e,t,a){for(var n=[],r=e-1;r>=0;r--)n.push({time:x()().subtract(r,"day").toDate(),rate:U.a.mock({"number|1-200.2":1}).number,asset_id_base:t,asset_id_quote:a});return console.log(n),n}function q(){var e=[];return(e=JSON.parse(localStorage.getItem(g.DATA)))&&e.length?e:(e=function(){var e={"array|5-10":[{id:A.a,user:{name:"@first",surname:"@last"},"amountInUsd|1-100":100,"currency|1-100":100,date:'@date("yyyy-MM-dd")'}]};return U.a.mock(e).array}(),localStorage.setItem(g.DATA,JSON.stringify(e)),e)}var H=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={data:q(),currentRow:null,mode:S.CREATE,showDetail:!1,showTable:!0},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.showTable&&r.a.createElement("button",{style:{marginBottom:"15px"},onClick:function(){return e.onCreate()}}," create "),r.a.createElement(D,{show:this.state.showTable,data:this.state.data,onView:function(t){return e.onView(t)},onEdit:function(t){return e.onEdit(t)},onDelete:function(t,a){return e.onDelete(t,a)}}),r.a.createElement(N,{show:this.state.showDetail,mode:this.state.mode,data:this.state.currentRow,onBack:function(){return e.onBack()},onSubmit:function(t){return e.onSubmit(t)}}))}},{key:"onView",value:function(e){var t=_.a.recursive(!0,e);this.setState({mode:S.VIEW,currentRow:t,showDetail:!0,showTable:!1})}},{key:"onEdit",value:function(e){var t=_.a.recursive(!0,e);this.setState({mode:S.EDIT,currentRow:t,showDetail:!0,showTable:!1})}},{key:"onDelete",value:function(e,t){if(window.confirm("delete current row ?")){var a=Object(p.a)(this.state.data);a.splice(t,1),this.setState({data:a}),this.persistData(a)}}},{key:"onCreate",value:function(){this.setState({mode:S.CREATE,showDetail:!0,showTable:!1})}},{key:"onSubmit",value:function(e){e.id?this.update(e):this.create(e),this.setState({showDetail:!1,showTable:!0})}},{key:"create",value:function(e){var t=[Object(d.a)({id:A()(),user:{name:e.name,surname:e.surname}},e)];t=this.state.data.concat(t),this.setState({data:t}),this.persistData(t)}},{key:"update",value:function(e){var t=Object(p.a)(this.state.data),a=t.findIndex(function(t){return t.id===e.id}),n=Object(d.a)({},e,{user:{name:e.name,surname:e.surname}});t[a]=n,this.setState({data:t}),this.persistData(t)}},{key:"persistData",value:function(e){localStorage.setItem(g.DATA,JSON.stringify(e))}},{key:"onBack",value:function(){this.setState({showDetail:!1,showTable:!0})}}]),t}(n.Component),J=a(18),L=a.n(J),P=a(30),W=a(43),M=a.n(W),F={coinApi:{apiKey:"A3968603-0A23-4EED-8D33-E5DBFD9CE17A",baseURL:"https://rest.coinapi.io/"}}.coinApi;function K(e){return X.apply(this,arguments)}function X(){return(X=Object(P.a)(L.a.mark(function e(t){var a,n,r,o,c,s,i,l=arguments;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(a=l.length>1&&void 0!==l[1]?l[1]:"ETH",n=l.length>2&&void 0!==l[2]?l[2]:"USD",e.prev=2,r="v1/exchangerate/".concat(a,"/").concat(n),o=[],c=function(){var e=Object(P.a)(L.a.mark(function e(t){var a;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.a.get(r,{params:{time:t}});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),s=t-1;s>=0;s--)o.push(c(x()().subtract(s,"day").toDate()));return e.next=9,Promise.all(o);case 9:return i=e.sent,e.abrupt("return",i);case 13:return e.prev=13,e.t0=e.catch(2),e.abrupt("return",V(t,a,n));case 16:case"end":return e.stop()}},e,this,[[2,13]])}))).apply(this,arguments)}M.a.defaults.headers.common["X-CoinAPI-Key"]=F.apiKey,M.a.defaults.baseURL=F.baseURL;var Z=a(92),z=[{fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10}],G=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={labels:[],data:[]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e={labels:this.state.labels,datasets:[Object(d.a)({},z[0],{label:"Exchange Rate of ETH/USD for last 7 days",data:this.state.data})]};return r.a.createElement("div",null,r.a.createElement(Z.a,{data:e}))}},{key:"componentDidMount",value:function(){var e=Object(P.a)(L.a.mark(function e(){var t,a,n;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(7);case 2:t=e.sent,a=t.map(function(e){return O(e.time)}),n=t.map(function(e){return+e.rate.toFixed(2)}),this.setState({labels:a,data:n});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(n.Component);console.log(Object({NODE_ENV:"production",PUBLIC_URL:".",REACT_APP_ENV:"production"}));var Q=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={showCRUD:!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement("button",{onClick:function(){return e.setState({showCRUD:!0})}},"Contract CRUD"),r.a.createElement("button",{onClick:function(){return e.setState({showCRUD:!1})}},"Chart"),this.state.showCRUD&&r.a.createElement(H,null),!this.state.showCRUD&&r.a.createElement(G,null))}}]),t}(n.Component);c.a.render(r.a.createElement(Q,null),document.getElementById("root"))},3:function(e,t,a){e.exports={contractDetail:"contractDetail_contractDetail__2gEMl",formItem:"contractDetail_formItem__24-nS",field:"contractDetail_field__1kq3j",error:"contractDetail_error__1s7Tc",label:"contractDetail_label__2kVrJ"}},89:function(e,t,a){e.exports={table:"table_table__1Tn0Z"}},94:function(e,t,a){e.exports=a(274)},99:function(e,t,a){}},[[94,2,1]]]);
//# sourceMappingURL=main.c572eb98.chunk.js.map